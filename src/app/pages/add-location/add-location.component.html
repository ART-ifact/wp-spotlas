<mat-toolbar class="button-row" color="secondary">
  <mat-toolbar-row>
    <button mat-raised-button color="accent" (click)="goBack()">{{ 'GENERAL.CANCEL' | translate }}</button>
    <span class="spacer"></span>
    <button mat-raised-button color="primary" (click)="saveLocation()">{{ 'GENERAL.SAVE' | translate }}</button>
  </mat-toolbar-row>
</mat-toolbar>
<ng-container>
  <div class="grid">
    <div class="grid-item">
      <app-file-input class="m-b-1" (imageObject)="setImageArray($event)" (geoLocation)="updateLocation($event)"></app-file-input>
      <app-geoautofill (position)="updateLocation($event)"></app-geoautofill>
      <agm-map  *ngIf="options" [latitude]="locationObject.lat > 0 ? locationObject.lat : parseInt(options.geoLocation.lat)" [longitude]="locationObject.lng > 0 ? locationObject.lng :  parseInt(options.geoLocation.lng)" [styles]="mapStyle">
          <agm-marker (dragEnd)="setPosition($event)" [markerDraggable]="true" [latitude]="locationObject.lat > 0 ? locationObject.lat : options.geoLocation.lat" [longitude]="locationObject.lng > 0 ? locationObject.lng :  options.geoLocation.lng" [iconUrl]="options.basePath + '/dist/assets/img/marker.svg'">
          </agm-marker>
      </agm-map>
      <button class="m-b-1 btn-current-location" mat-flat-button color="primary" (click)="getCurrentLocation()">{{ 'LOCATION.CURRENTLOCATION' | translate }}</button>
      <h3>{{ 'LOCATION.NOTE' | translate }}</h3>
      <mat-form-field class="m-b-1">
          <textarea matInput placeholder="Note" (change)="locationArray.note = $event.target.value"></textarea>
      </mat-form-field>
    </div>
    <div class="grid-item">
    <div class="grid">
      <h3>{{ 'LOCATION.NAME' | translate }}</h3>
      <mat-form-field class="m-b-1">
          <input matInput placeholder="Locationname" (change)="locationArray.title = $event.target.value">
      </mat-form-field>
      <h3>{{ 'LOCATION.ACCESSIBILITY' | translate }}</h3>
      <mat-slider
        [disabled]="false"
        [max]="10"
        [min]="0"
        [step]="1"
        [tickInterval]="1"
        (change)="locationArray.properties.accesibility = $event.value"
        class="m-b-1"
        ></mat-slider>
      <div class="grid-item">
        <h3>{{ 'LOCATION.CATEGORY' | translate}}</h3>
        <mat-form-field class="m-b-1">
          <mat-label>{{'LOCATION.CATEGORY' | translate}}</mat-label>
          <mat-select (selectionChange)="locationArray.properties.category = $event.value">
            <mat-option *ngFor="let category of categories" [value]="category.value">
              {{category.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="grid-item">
        <h3>{{'LOCATION.TYPE' | translate}}</h3>
        <mat-form-field class="m-b-1">
            <mat-label>{{'LOCATION.TYPE' | translate}}</mat-label>
            <mat-select multiple (selectionChange)="locationArray.properties.type = $event.value">
              <mat-option *ngFor="let tag of tags" [value]="tag.value">
                {{tag.viewValue}}
              </mat-option>
            </mat-select>
          </mat-form-field>
      </div>
    </div>
      <h3>{{ 'LOCATION.WHEATER' | translate}}</h3>
        <div class="four-items m-b-1">
            <app-custom-checkbox name="sunny" iconName="sunny" (change)="locationArray.properties.wheater.sunny = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="foggy" iconName="foggy" (change)="locationArray.properties.wheater.foggy = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="cloudy" iconName="cloudy" (change)="locationArray.properties.wheater.cloudy = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="rainy" iconName="rainy" (change)="locationArray.properties.wheater.rainy = $event.value"></app-custom-checkbox>
        </div>
        <h3>{{'LOCATION.SEASONS' | translate}}</h3>
        <div class="four-items m-b-1">
            <app-custom-checkbox name="spring" iconName="spring" (change)="locationArray.properties.seasons.spring = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="summer" iconName="summer"  (change)="locationArray.properties.seasons.summer = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="autumn" iconName="autumn"  (change)="locationArray.properties.seasons.autumn = $event.value"></app-custom-checkbox>
            <app-custom-checkbox name="winter" iconName="winter"  (change)="locationArray.properties.seasons.winter = $event.value"></app-custom-checkbox>
        </div>
    </div>
  </div>
</ng-container>

